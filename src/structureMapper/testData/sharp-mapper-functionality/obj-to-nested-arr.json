{
  "source": {
    "clientName": "Sharp",
    "clientAge": 15,
    "clientStreetAddress": "15 street 1",
    "clientStreetName": "Rue de avenue",
    "childFirstName": "Joe",
    "childMiddleName": "Heat",
    "childLastName": "Marg",
    "vehicle_id_1": "a",
    "vehicle_id_2": "b",
    "vehicle_id_3": "c",
    "vehicle_id_4": "d",
    "vehicle_id_5": null,
    "driver_id_1": "1",
    "driver_id_2": "2",
    "driver_id_3": "3",
    "driver_id_4": "4",
    "driver_id_5": null
  },

  "schema": [
    {
      "push": {
        "client": {
          "name": "@clientName",
          "age": "@clientAge",
          "address": {
            "streetNumber": "@clientStreetAddress",
            "streetName": "@clientStreetName"
          },
          "childName": {
            "value": {
              "concat": [
                "Mr. ",
                "@childFirstName",
                "@childMiddleName",
                "-",
                "@childLastName"
              ]
            }
          },
          "anotherFormName": {
            "value": {
              "concat": [
                "Mr. ",
                "@childFirstName",
                " ",
                "@childLastName",
                " ",
                "@childMiddleName"
              ]
            }
          },
          "vehicles": [
            {
              "id": "@vehicle_id_1",
              "drivers": [ "@driver_id_1"]
            },
            {
              "id": "@vehicle_id_2",
              "drivers": [ "@driver_id_2"]
            },
            {
              "id": "@vehicle_id_5",
              "drivers": [
                { "id": "@driver_id_5" }
              ]
            }
          ]
        }
      }
    }
  ],

  "output": [
    {
      "client": {
        "name": "Sharp",
        "age": 15,
        "address": {
          "streetNumber": "15 street 1",
          "streetName": "Rue de avenue"
        },
    
        "childName": "Mr. JoeHeat-Marg",
        "anotherFormName": "Mr. Joe Marg Heat",
        "vehicles": [
          {
            "id": "a",
            "drivers": ["1"]
          },
          {
            "id": "b",
            "drivers": ["2"]
          },
          {
            "id": null,
            "drivers": [
              {"id": null}
            ]
          }
        ]
      }
    }
  ]
}